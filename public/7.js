(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{347:function(e,t,r){"use strict";var o=r(55);r.n(o).a},348:function(e,t,r){(e.exports=r(6)(!1)).push([e.i,"\n.table th,\n.table td {\n    padding: 0.5rem;\n    vertical-align: top;\n    border-top: 1px solid #dee2e6;\n}\n\n",""])},406:function(e,t,r){"use strict";r.r(t);var o=r(1),n=r(2);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={data:function(){return{self:null,pageOfItems:[],sizePerPage:10,perpage:5,labels:{first:"<<",last:">>",previous:"anterior",next:"siguiente"}}},computed:s({},Object(o.e)("ingreso",["items","loading_form","loading_table","alert","data_form"]),{PerPage:function(){return this.perpage?parseInt(this.perpage):25}},Object(o.c)("ingreso",["GET_FILTER_ITEMS"])),methods:s({},Object(o.d)("ingreso",["CLEAR_FORM"]),{refresh:function(){var e=this.$refs;setTimeout((function(){e.jw.setPage(1)}),0)},OnClickDelete:function(e,t){var r=this;this.$confirm("¿ Esta seguro que desea anular el ingreso Nro. ".concat(t.nro_ingreso," ?"),"Advertencia",{confirmButtonText:"Sí Anular",cancelButtonText:"Cancelar",type:"warning"}).then((function(){r.self=e,n.a.dispatch("ingreso/deleteItem",{id:t.id,message:r.$message,progress:r.$Progress})})).catch((function(){return null}))},onChangePage:function(e){this.pageOfItems=e},goBack:function(){this.$router.go(-1)}}),mounted:function(){n.a.dispatch("periodo/verify"),n.a.dispatch("ingreso/getItems")}},c=(r(347),r(3)),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-12"},[this.$store.state.periodo.current?r("div",[e.alert.show?r("el-alert",{attrs:{title:e.alert.title,type:e.alert.color,description:e.alert.message,closable:"","show-icon":""},on:{close:function(t){e.alert.show=!1}}}):e._e(),e._v(" "),r("div",{staticClass:"row justify-content-between mb-4 mr-1 ml-1   mt-4"},[r("div",{staticClass:"pull-lef"},[r("h3",[e._v("Ingresos   "),e.loading_table?r("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"1.3rem"}}):e._e()])]),e._v(" "),r("div",{staticClass:"pull-right"},[r("router-link",{attrs:{to:{name:"addingreso"}},nativeOn:{click:function(t){return e.CLEAR_FORM(t)}}},[r("el-button",{attrs:{type:"primary",size:"small"}},[e._v("\n                            Nuevo\n                            "),r("i",{staticClass:"fas fa-plus"})])],1)],1)]),e._v(" "),r("div",{staticClass:"row justify-content-between ml-1",staticStyle:{"margin-bottom":"-20px"}},[r("div",{staticClass:"pull-left"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",{attrs:{label:"Mostrar:"}},[r("el-select",{staticStyle:{width:"70px"},on:{change:function(t){return e.refresh()}},model:{value:e.perpage,callback:function(t){e.perpage=t},expression:"perpage"}},e._l([{value:5,label:"5"},{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"}],(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",[r("el-switch",{attrs:{"active-text":"todos","inactive-text":"solo activos"},on:{change:function(t){return e.$store.dispatch("ingreso/getItems")}},model:{value:e.$store.state.ingreso.withTrashed,callback:function(t){e.$set(e.$store.state.ingreso,"withTrashed",t)},expression:"$store.state.ingreso.withTrashed"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"pull-right"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",{attrs:{label:"Buscar por:"}},[r("el-input",{attrs:{placeholder:"N° ingreso, proveedor, fecha ingreso",clearable:""},model:{value:e.$store.state.ingreso.searchQuery,callback:function(t){e.$set(e.$store.state.ingreso,"searchQuery",t)},expression:"$store.state.ingreso.searchQuery"}},[r("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)],1)]),e._v(" "),r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("el-table",{staticStyle:{width:"100%"},attrs:{fit:!0,stripe:"",data:e.pageOfItems,"default-sort":{prop:"id",order:"descending"}}},[r("el-table-column",{attrs:{prop:"nro_ingreso",label:"N° Ingreso",width:"115",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b",[e._v("NS")]),e._v(e._s(t.row.nro_ingreso)+"\n                            ")]}}],null,!1,618117999)}),e._v(" "),r("el-table-column",{attrs:{prop:"proveedor.nombre",label:"Proveedor",width:"400",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.proveedor?t.row.proveedor.nombre:"-")+"\n                            ")]}}],null,!1,3887565155)}),e._v(" "),r("el-table-column",{attrs:{prop:"tipo_ingreso",label:"Tipo",width:"120",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return["INV_INICIAL"!=t.row.tipo_ingreso?r("el-tag",{attrs:{type:"Compra"==t.row.tipo_ingreso?"info":"warning",effect:"dark"}},[e._v("\n                                    "+e._s("Compra"==t.row.tipo_ingreso?"COMPRA":"DONACIÓN")+"\n                                ")]):e._e(),e._v(" "),"INV_INICIAL"==t.row.tipo_ingreso?r("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v("\n                                    INV. INICIAL\n                                ")]):e._e()]}}],null,!1,2071978625)}),e._v(" "),r("el-table-column",{attrs:{prop:"created_at",label:"Fecha ingreso",width:"140",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(e._f("dateformat")(t.row.created_at))+"\n                            ")]}}],null,!1,3841857305)}),e._v(" "),r("el-table-column",{attrs:{prop:"total",label:"Total",width:"100",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b",[e._v("Bs: ")]),e._v(" "+e._s(t.row.total)+"\n                            ")]}}],null,!1,362634423)}),e._v(" "),r("el-table-column",{attrs:{label:"Operacion"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{attrs:{disabled:!!t.row.deleted_at,to:{name:"viewdetailingreso",params:{id:t.row.id}}},nativeOn:{click:function(r){return e.$store.dispatch("ingreso/getDetalleById",t.row.id)}}},[r("el-button",{attrs:{size:"mini",type:"default",icon:"el-icon-view"}},[e._v("Ver")]),e._v(" "),t.row.deleted_at?r("el-tag",[r("strong",[e._v("ANULADO")])]):e._e()],1),e._v(" "),t.row.deleted_at?e._e():r("el-button",{attrs:{disabled:t.row.deleted_at||"INV_INICIAL"==t.row.tipo_ingreso,loading:e.loading_form&&t.$index==e.self,type:"danger",size:"mini"},on:{click:function(r){return e.OnClickDelete(t.$index,t.row)}}},[e._v("Anular")])]}}],null,!1,1718926518)})],1)],1)]),e._v(" "),r("div",{staticClass:"row justify-content-center mt-4"},[r("jw-pagination",{ref:"jw",attrs:{pageSize:e.PerPage,items:e.GET_FILTER_ITEMS,labels:e.labels},on:{changePage:e.onChangePage}})],1)],1):e._e(),e._v(" "),this.$store.state.periodo.current?e._e():r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"}),e._v(" "),r("div",{staticClass:"col-md-6 col-md-offset-4"},[r("el-alert",{attrs:{title:"No se encontró un periodo contable vigente.",type:"info",description:"No existe un periodo contable en vigencia, para poder realizar ingresos debe iniciar un periodo contable.","show-icon":""}})],1)])])}),[],!1,null,null,null);t.default=u.exports},55:function(e,t,r){var o=r(348);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(7)(o,n);o.locals&&(e.exports=o.locals)}}]);