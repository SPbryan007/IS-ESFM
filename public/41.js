(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{361:function(t,s,e){"use strict";e.r(s);var a=e(1),o={name:"ReporteIngreso",components:{VueHtml2pdf:e(106).a},data:function(){},methods:{}},l=e(3),i=Object(l.a)(o,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("p",{staticClass:"text-danger"},[this._v("HOLA BROTHER")])])}],!1,null,null,null).exports,d=(e(19),e(2)),c=e(0),r=e.n(c),_=e(4);function n(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function v(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}var m={components:{Ingreso:i},data:function(){return{numero:1997}},computed:function(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?n(Object(e),!0).forEach((function(s){v(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}({},Object(a.e)("ingreso",["detalle_ingreso","data_form","loading_form","alert"]),{},Object(a.c)("proveedor",["GET_ITEMS_PROVEEDOR"])),methods:{Print:function(){window.open("http://localhost:8000/controller/ingreso/imprimir/"+this.$route.params.id,"_blank")},exportPDF:function(t,s){axios.get("/controller/ingreso/export_pdf/"+this.$route.params.id,{responseType:"blob"}).then((function(e){var a=new Blob([e.data],{type:"application/pdf"}),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download="NIA-"+t+"-"+r()(s).format("DD/MM/YYYY"),o.click(),URL.revokeObjectURL(o.href)})).catch((function(t){console.log("error excel")}))},goBack:function(){_.a.push({name:"ingreso"})}},mounted:function(){d.a.dispatch("proveedor/getItems")}},u=Object(l.a)(m,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-12"},[t.alert.show?e("el-alert",{attrs:{title:t.alert.title,type:t.alert.color,description:t.alert.message,"show-icon":"",closable:""},on:{close:function(s){t.alert.show=!1}}}):t._e(),t._v(" "),e("div",{staticClass:"row justify-content-between mb-4  mr-1 ml-1  mt-4"},[e("div",{staticClass:"pull-lef"},[e("el-page-header",{staticClass:"mt-2",attrs:{content:"Ingresos"},on:{back:t.goBack}})],1),t._v(" "),e("div",{staticClass:"pull-right"},[e("el-button",{attrs:{disabled:t.detalle_ingreso.deleted_at,type:"primary",icon:"el-icon-printer"},on:{click:function(s){return t.Print()}}},[t._v("Imprimir")]),t._v(" "),e("el-button",{attrs:{disabled:t.detalle_ingreso.deleted_at,type:"danger"},on:{click:function(s){return t.exportPDF(t.detalle_ingreso.nro_ingreso,t.detalle_ingreso.created_at)}}},[e("i",{staticClass:"fas fa-file-pdf"}),t._v(" Pdf")])],1)]),t._v(" "),e("div",{staticClass:"card"},[t._m(0),t._v(" "),e("div",{ref:"table",staticClass:"card-body",attrs:{id:"printMe"}},["Compra"==t.detalle_ingreso.tipo_ingreso?e("div",{staticClass:"row invoice-info"},[e("div",{staticClass:"col-md-5 invoice-col"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-5"},[t._v("Ingresado por:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t.detalle_ingreso.usuario.funcionario.nombre+" "+t.detalle_ingreso.usuario.funcionario.apellido))]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("Fecha de ingreso:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t._f("dateformat")(t.detalle_ingreso.created_at)))]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("NIT:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t.detalle_ingreso.proveedor.nit))]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("Proveedor:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t.detalle_ingreso.proveedor.nombre))]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("Fecha solicitud:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t._f("dateformat")(t.detalle_ingreso.compra.fecha_solicitud)))])])]),t._v(" "),e("div",{staticClass:"col-md-4 invoice-col"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v("N° Factura")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(t._s(t.detalle_ingreso.compra.nro_comprobante))]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v("N° Autorizacion:")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(t._s(t.detalle_ingreso.compra.nro_autorizacion))]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v("Formulario:")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(t._s(t.detalle_ingreso.compra.tipo_compra))])])]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-6"}),t._v(" "),e("dd",{staticClass:"col-md-6"},[e("h4",[e("strong",[t._v("NIA: "+t._s(t.detalle_ingreso.nro_ingreso))])])]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v("N° Formulario")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(t._s(t.detalle_ingreso.compra.nro_solicitud))])])])]):t._e(),t._v(" "),"INV_INICIAL"==t.detalle_ingreso.tipo_ingreso?e("div",{staticClass:"row invoice-info"},[e("div",{staticClass:"col-md-5 invoice-col"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-5"},[t._v("Ingresado por:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t.detalle_ingreso.usuario.funcionario.nombre+" "+t.detalle_ingreso.usuario.funcionario.apellido))]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("Fecha de ingreso:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t._f("dateformat")(t.detalle_ingreso.created_at)))])])]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"col-md-3"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-6"}),t._v(" "),e("dd",{staticClass:"col-md-6"},[e("h4",[e("strong",[t._v("NIA: "+t._s(t.detalle_ingreso.nro_ingreso))])]),e("small",[t._v(t._s(t._f("dateformat")(t.detalle_ingreso.created_at)))])]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" ")])])])]):t._e(),t._v(" "),"Donacion"==t.detalle_ingreso.tipo_ingreso?e("div",{staticClass:"row invoice-info"},[e("div",{staticClass:"col-md-5 invoice-col"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-5"},[t._v("Ingresado por:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t.detalle_ingreso.usuario.funcionario.nombre+" "+t.detalle_ingreso.usuario.funcionario.apellido))]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("Proveedor:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t.detalle_ingreso.proveedor.nombre))]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("Fecha de ingreso:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t._f("dateformat")(t.detalle_ingreso.created_at)))])])]),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"col-md-3"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-6"}),t._v(" "),e("dd",{staticClass:"col-md-6"},[e("h4",[e("strong",[t._v("NIA: "+t._s(t.detalle_ingreso.nro_ingreso))])]),e("small",[t._v(t._s(t._f("dateformat")(t.detalle_ingreso.created_at)))])]),t._v(" "),e("dt",{staticClass:"col-md-5"},[t._v("N° Acta:")]),t._v(" "),e("dd",{staticClass:"col-md-7"},[t._v(t._s(t.detalle_ingreso.donacion.nro_acta))])])])]):t._e(),t._v(" "),e("h4",{staticClass:"text-center"},[e("strong",[t._v("Detalle Ingreso  "),t.detalle_ingreso.deleted_at?e("span",{staticClass:"badge badge-danger"},[t._v("ANULADO")]):t._e()])]),t._v(" "),e("table",{staticClass:"table table-sm table-striped"},[t._m(3),t._v(" "),e("tbody",t._l(t.detalle_ingreso.detalleingresos,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(a+1)+".")]),t._v(" "),e("td",[t._v(t._s(s.lote.articulo.nombre))]),t._v(" "),e("td",[t._v(t._s(s.lote.articulo.unidad_medida.nombre))]),t._v(" "),e("td",[t._v(t._s(s.cantidad.toFixed(2)))]),t._v(" "),e("td",[e("b",[t._v("Bs. ")]),t._v(t._s((s.cantidad*s.lote.precio_u).toFixed(2)))])])})),0)]),t._v(" "),e("dl",{staticClass:"row pt-3"},[e("dt",{staticClass:"col-md-3"},[t._v("Total:")]),t._v(" "),e("dd",{staticClass:"col-md-7 text-right"},[e("span",{staticStyle:{"border-bottom":"2px dotted #000","text-decoration":"none"}},[t._v(t._s(t._f("toWords")(Math.trunc(t.detalle_ingreso.total)))+" con "+t._s(t.detalle_ingreso.total-Math.floor(t.detalle_ingreso.total))+"/100 "),e("b",[t._v("  Bs.")])])]),t._v(" "),e("div",{staticClass:"col-md-2 text-center"},[e("u",[t._v(t._s(t.detalle_ingreso.total.toFixed(2)))])])])])])],1)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header border-0"},[s("h3",{staticClass:"card-title"},[this._v("Detalle de ingreso")]),this._v(" "),s("div",{staticClass:"card-tools"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-md-4 invoice-col"},[s("dl",{staticClass:"row"},[s("dt",{staticClass:"col-md-6"},[this._v(" ")]),this._v(" "),s("dd",{staticClass:"col-md-6"},[this._v(" ")]),this._v(" "),s("dt",{staticClass:"col-md-6"},[this._v("Formulario:")]),this._v(" "),s("dd",{staticClass:"col-md-6"},[this._v(" INGRESO INICIAL ")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-4 invoice-col"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" ")]),t._v(" "),e("dt",{staticClass:"col-md-6"},[t._v("Formulario:")]),t._v(" "),e("dd",{staticClass:"col-md-6"},[t._v(" Acta de donación ")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{staticStyle:{width:"10px"}},[t._v("N°")]),t._v(" "),e("th",[t._v("Articulo")]),t._v(" "),e("th",[t._v("Medida")]),t._v(" "),e("th",[t._v("Cantidad")]),t._v(" "),e("th",[t._v("Subtotal")])])])}],!1,null,null,null);s.default=u.exports}}]);